@use "../../../../../styles/variables" as vars;
@use "../../../../../styles/mixins" as mixins;

// =============================================================================
// SESSION LIST COMPONENT
// =============================================================================
// Main container for session list with loading, error, and pagination states

.session-list-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  @include mixins.responsive-padding(vars.$spacing-sm, vars.$spacing-md);
  background-color: vars.$background-primary;
  position: relative;

  @include mixins.media(desktop) {
    padding: vars.$spacing-lg;
    max-width: vars.$breakpoint-desktop;
    margin: 0 auto;
  }
}

// =============================================================================
// LOADING STATE
// =============================================================================
.loading-container {
  @include mixins.loading-container(300px);

  .loading-text {
    margin: 0;
    @include mixins.typography(
      vars.$font-size-sm,
      vars.$font-weight-regular,
      vars.$line-height-normal
    );
    color: vars.$text-secondary;
  }
}

// =============================================================================
// ERROR STATE
// =============================================================================
.error-container {
  @include mixins.error-container(300px);

  .error-card {
    max-width: 400px;
    width: 100%;
    @include mixins.card-base(false);
  }

  .error-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: vars.$spacing-sm;
    padding: vars.$spacing-lg;

    .error-icon {
      font-size: 48px;
      width: 48px;
      height: 48px;
      color: vars.$color-error;
    }

    .error-title {
      margin: 0;
      @include mixins.typography(
        vars.$font-size-xl,
        vars.$font-weight-medium,
        vars.$line-height-tight
      );
      color: vars.$text-primary;
    }

    .error-message {
      margin: 0;
      @include mixins.typography(
        vars.$font-size-sm,
        vars.$font-weight-regular,
        vars.$line-height-normal
      );
      color: vars.$text-secondary;
    }
  }
}

// =============================================================================
// SESSIONS CONTENT CONTAINER
// =============================================================================
.sessions-content {
  display: flex;
  flex-direction: column;
  gap: vars.$spacing-md;
  flex: 1;
}

// =============================================================================
// PAGINATION
// =============================================================================
.pagination-container {
  margin-top: vars.$spacing-md;
  display: flex;
  flex-direction: column;
  gap: vars.$spacing-sm;

  @include mixins.media(tablet) {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  .sessions-paginator {
    @include mixins.card-base(false);
    background-color: vars.$surface-primary;
    border-radius: vars.$border-radius-md;
    box-shadow: vars.$shadow-card;
    flex: 1;

    @include mixins.media-max(tablet) {
      ::ng-deep .mat-mdc-paginator-container {
        padding: vars.$spacing-xs vars.$spacing-sm;
      }

      ::ng-deep .mat-mdc-paginator-range-label {
        font-size: vars.$font-size-xs;
      }
    }

    &[disabled] {
      opacity: 0.6;
      pointer-events: none;
    }

    // Enhance paginator styling
    ::ng-deep {
      .mat-mdc-paginator-container {
        padding: vars.$spacing-sm vars.$spacing-md;
      }

      .mat-mdc-paginator-range-label {
        color: vars.$text-secondary;
        font-size: vars.$font-size-sm;
      }

      .mat-mdc-icon-button {
        @include mixins.focus-visible(vars.$color-primary);

        &:hover:not([disabled]) {
          background-color: vars.$color-gray-100;
        }

        &[disabled] {
          color: vars.$text-disabled;
        }
      }
    }
  }

  .pagination-info {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: vars.$spacing-xs vars.$spacing-sm;

    @include mixins.media(tablet) {
      justify-content: flex-end;
      min-width: 200px;
    }

    .pagination-text {
      @include mixins.typography(
        vars.$font-size-sm,
        vars.$font-weight-medium,
        vars.$line-height-normal
      );
      color: vars.$text-secondary;
    }
  }
}

// =============================================================================
// FLOATING ACTION BUTTON
// =============================================================================
.add-session-fab {
  @include mixins.action-button(56px);
  position: fixed;
  bottom: vars.$spacing-md;
  right: vars.$spacing-md;
  z-index: vars.$z-index-fixed;
  box-shadow: vars.$shadow-fab;
  background-color: vars.$color-primary;
  color: vars.$color-white;

  @include mixins.media(tablet) {
    bottom: vars.$spacing-lg;
    right: vars.$spacing-lg;
  }

  &:hover:not(:disabled) {
    @include mixins.hover-lift();
    box-shadow: vars.$shadow-8;
  }

  &:disabled {
    background-color: vars.$color-gray-300 !important;
    color: vars.$text-disabled !important;
    cursor: not-allowed;
  }

  @include mixins.focus-visible(rgba(vars.$color-white, 0.5));

  mat-icon {
    font-size: vars.$font-size-2xl;
    width: vars.$font-size-2xl;
    height: vars.$font-size-2xl;
  }
}

// =============================================================================
// SNACKBAR CUSTOMIZATION
// =============================================================================
::ng-deep {
  .success-snack-bar {
    --mdc-snackbar-container-color: #{vars.$color-success};
    --mdc-snackbar-supporting-text-color: #{vars.$color-white};
  }

  .error-snack-bar {
    --mdc-snackbar-container-color: #{vars.$color-error};
    --mdc-snackbar-supporting-text-color: #{vars.$color-white};
  }

  .warning-snack-bar {
    --mdc-snackbar-container-color: #{vars.$color-warning};
    --mdc-snackbar-supporting-text-color: #{vars.$color-white};
  }

  .info-snack-bar {
    --mdc-snackbar-container-color: #{vars.$color-info};
    --mdc-snackbar-supporting-text-color: #{vars.$color-white};
  }
}

// =============================================================================
// ACCESSIBILITY ENHANCEMENTS
// =============================================================================
@include mixins.reduced-motion {
  .add-session-fab {
    &:hover {
      transform: none;
    }
  }
}

// =============================================================================
// HIGH CONTRAST SUPPORT
// =============================================================================
@include mixins.high-contrast {
  .session-list-container {
    background-color: vars.$color-white;
  }

  .error-content .error-icon {
    color: vars.$text-primary;
  }

  .sessions-paginator {
    border: vars.$border-width-thin solid vars.$text-primary;
  }

  .add-session-fab {
    border: vars.$border-width-medium solid vars.$text-primary;
  }
}

// =============================================================================
// PRINT STYLES
// =============================================================================
@media print {
  .session-list-container {
    background: vars.$color-white;
    padding: 0;
  }

  .add-session-fab {
    display: none;
  }

  .pagination-container {
    display: none;
  }

  .loading-container,
  .error-container {
    min-height: auto;
  }
}
