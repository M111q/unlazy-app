// =============================================================================
// REGISTER COMPONENT STYLES
// =============================================================================
// Authentication registration form component
// Uses the centralized design system for consistency

@use "../../../../../styles/variables" as vars;
@use "../../../../../styles/mixins" as mixins;

// =============================================================================
// PASSWORD STRENGTH COLORS
// =============================================================================
$strength-weak: vars.$color-error;
$strength-fair: vars.$color-warning;
$strength-good: vars.$color-info;
$strength-strong: vars.$color-success;

// =============================================================================
// MAIN COMPONENT CONTAINER
// =============================================================================
.register-component {
  width: 100%;
  max-width: 400px;
  margin: 0 auto;
}

// =============================================================================
// REGISTER FORM
// =============================================================================
.register-form {
  width: 100%;

  .form-row {
    margin-bottom: vars.$spacing-sm;

    &:last-of-type {
      margin-bottom: vars.$spacing-md;
    }
  }

  .full-width {
    width: 100%;
  }

  // Form field customizations (inherited from global auth styles)
  .mat-mdc-form-field {
    width: 100%;
  }
}

// =============================================================================
// PASSWORD STRENGTH INDICATOR
// =============================================================================
.password-strength-container {
  margin-top: vars.$spacing-xs;
  padding: vars.$spacing-sm;
  background-color: vars.$color-gray-50;
  border-radius: vars.$border-radius-md;
  border: vars.$border-width-thin solid vars.$border-color-light;
  transition: vars.$transition-default;

  .strength-header {
    @include mixins.flex-between;
    margin-bottom: vars.$spacing-xs;

    .strength-label {
      @include mixins.typography(
        vars.$font-size-sm,
        vars.$font-weight-medium,
        vars.$line-height-normal
      );
      color: vars.$text-secondary;
    }

    .strength-text {
      @include mixins.typography(
        vars.$font-size-sm,
        vars.$font-weight-bold,
        vars.$line-height-normal
      );
      text-transform: uppercase;
      letter-spacing: 0.5px;

      &.strength-weak {
        color: $strength-weak;
      }

      &.strength-fair {
        color: $strength-fair;
      }

      &.strength-good {
        color: $strength-good;
      }

      &.strength-strong {
        color: $strength-strong;
      }
    }
  }

  .strength-progress {
    margin-bottom: vars.$spacing-sm;

    .progress-bar {
      height: 6px;
      background-color: vars.$color-gray-200;
      border-radius: vars.$border-radius-xs;
      overflow: hidden;
      position: relative;

      .progress-fill {
        height: 100%;
        border-radius: vars.$border-radius-xs;
        transition: vars.$transition-default;
        background-color: vars.$color-gray-200;

        @include mixins.reduced-motion {
          transition: none;
        }
      }

      &.strength-weak .progress-fill {
        background-color: $strength-weak;
      }

      &.strength-fair .progress-fill {
        background-color: $strength-fair;
      }

      &.strength-good .progress-fill {
        background-color: $strength-good;
      }

      &.strength-strong .progress-fill {
        background-color: $strength-strong;
      }
    }
  }

  .password-requirements {
    .requirements-title {
      @include mixins.typography(
        vars.$font-size-xs,
        vars.$font-weight-medium,
        vars.$line-height-normal
      );
      color: vars.$text-secondary;
      margin: 0 0 vars.$spacing-xs 0;
    }

    .requirements-list {
      margin: 0;
      padding: 0;
      list-style: none;

      .requirement-item {
        @include mixins.flex-center;
        justify-content: flex-start;
        gap: vars.$spacing-xs;
        @include mixins.typography(
          vars.$font-size-xs,
          vars.$font-weight-regular,
          vars.$line-height-tight
        );
        color: vars.$text-secondary;
        margin-bottom: vars.$spacing-xs;

        &:last-child {
          margin-bottom: 0;
        }

        .requirement-icon {
          font-size: 12px;
          width: 12px;
          height: 12px;
          color: vars.$text-disabled;
          flex-shrink: 0;

          &.met {
            color: vars.$color-success;
          }
        }

        &.met {
          color: vars.$text-primary;

          .requirement-icon {
            color: vars.$color-success;
          }
        }
      }
    }
  }

  @include mixins.media-max(mobile) {
    padding: vars.$spacing-xs;

    .strength-header .strength-label,
    .strength-header .strength-text {
      font-size: vars.$font-size-xs;
    }

    .strength-progress .progress-bar {
      height: 4px;
    }

    .password-requirements {
      .requirements-title {
        font-size: vars.$font-size-xs;
      }
      .requirements-list .requirement-item {
        font-size: vars.$font-size-xs;
        .requirement-icon {
          font-size: 10px;
          width: 10px;
          height: 10px;
        }
      }
    }
  }
}

// =============================================================================
// TERMS NOTICE
// =============================================================================
.terms-notice {
  margin: vars.$spacing-sm 0 vars.$spacing-md 0;
  padding: vars.$spacing-sm;
  background-color: rgba(vars.$color-primary, 0.04);
  border-radius: vars.$border-radius-md;
  border-left: 4px solid vars.$color-primary;

  .terms-text {
    @include mixins.typography(
      vars.$font-size-xs,
      vars.$font-weight-regular,
      vars.$line-height-relaxed
    );
    color: rgba(vars.$text-primary, 0.8);
    margin: 0;

    .terms-link {
      color: vars.$color-primary;
      text-decoration: none;
      font-weight: vars.$font-weight-medium;
      transition: vars.$transition-hover;

      &:hover {
        color: vars.$color-primary-dark;
        text-decoration: underline;
      }

      @include mixins.focus-visible(vars.$color-primary);
    }
  }

  @include mixins.media-max(mobile) {
    padding: vars.$spacing-xs;
    .terms-text {
      font-size: vars.$font-size-xs;
    }
  }
}

// Submit button (inherits from global auth styles)
.loading-icon {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// Validation summary (inherits from global auth styles)

// Auth links and dividers inherit from global auth styles

@include mixins.reduced-motion {
  .loading-icon {
    animation: none;
  }
  .password-strength-container .strength-progress .progress-fill {
    transition: none;
  }
}
